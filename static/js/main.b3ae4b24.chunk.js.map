{"version":3,"sources":["components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","apiPixabay.js","scroll.js","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","event","preventDefault","type","autoComplete","autoFocus","name","value","onChange","currentTarget","placeholder","defaultProps","ImageGalleryItem","image","small","hint","src","alt","ImageGallery","imageList","onClick","ref","map","id","Button","children","modalRoot","document","querySelector","Modal","onClose","useEffect","keyEvent","code","window","addEventListener","body","classList","add","removeEventListener","remove","createPortal","Overlay","target","loaderRoot","Loader","Spinner","Spinner__overlay","Spinner__roller","axios","defaults","baseURL","OPTIONS","getTotalPages","totalHits","data","Math","ceil","fetchImagesDataPixabay","search","page","a","url","get","hits","webformatURL","large","largeImageURL","tags","totalPages","scrollBottom","scrollTo","top","documentElement","scrollHeight","behavior","App","images","setImages","setSearch","setPage","setToatalPages","setUrl","setHint","showModal","setModla","loading","setLoad","empty","setEmpty","toggleModal","useCallback","prev","length","fetchImages","left","searchValue","App__message","targetEl","nodeName","find","App__container","Modal__img","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b3ae4b24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__r-X5b\",\"Spinner__overlay\":\"Loader_Spinner__overlay__GMry8\",\"Spinner__roller\":\"Loader_Spinner__roller__16il9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__HuAZF\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1H94w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__iWZkw\",\"Modal\":\"Modal_Modal__z7EjU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2QWtd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonContainer\":\"Button_buttonContainer__29eCG\",\"button\":\"Button_button__sU6Pm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3MgMo\",\"App__container\":\"App_App__container__1F_Zz\",\"App__message\":\"App_App__message__4QUc2\",\"Modal__img\":\"App_Modal__img__2h396\"};","import React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const updateQuery = ({ currentTarget: { value } }) => {\n    setQuery(value);\n  };\n\n  const onSubmitHandler = event => {\n    event.preventDefault();\n    onSubmit(query);\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onSubmitHandler}>\n        <button type=\"submit\" className={styles['SearchForm-button']}>\n          <span className={styles['SearchForm-button-label']}>Search</span>\n        </button>\n\n        <input\n          className={styles['SearchForm-input']}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          name=\"query\"\n          value={query}\n          onChange={updateQuery}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.defaultProps = { onSubmit: () => {} };\nSearchbar.propTypes = { onSubmit: PropTypes.func };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ image: { small, hint } }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={small}\n        alt={hint}\n        className={styles['ImageGalleryItem-image']}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.defaultProps = {};\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    small: PropTypes.string.isRequired,\n    hint: PropTypes.string,\n  }).isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGallery.module.css';\n\nimport ImageGalleryItem from './../ImageGalleryItem';\n\nexport default function ImageGallery({ imageList, onClick }) {\n  const scrollTo = ref => {\n    if (ref) {\n    }\n  };\n  return (\n    <>\n      <ul className={styles.ImageGallery} onClick={onClick} ref={scrollTo}>\n        {imageList.map(image => {\n          return <ImageGalleryItem key={image.id} image={image} />;\n        })}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.defaultProps = {\n  imageList: [],\n  onClick: () => {},\n};\n\nImageGallery.propTypes = {\n  imageList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ),\n  onClick: PropTypes.func,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nexport default function Button({ onClick, children }) {\n  return (\n    <button className={styles.Button} onClick={onClick} type=\"button\">\n      {children}\n    </button>\n  );\n}\n\nButton.defaultProps = { onClick: () => {} };\nButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n};","import React from 'react';\nimport { useEffect } from 'react';\n\nimport { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#front-root');\n\nexport default function Modal({ onClose, children }) {\n  const backdropOnClickHandler = ({ target, currentTarget }) => {\n    if (target === currentTarget) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    const keyEvent = ({ code }) => {\n      switch (code) {\n        case 'Escape':\n          onClose();\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', keyEvent);\n    document.body.classList.add('modal-open');\n    return () => {\n      window.removeEventListener('keydown', keyEvent);\n      document.body.classList.remove('modal-open');\n    };\n  }, [onClose]);\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={backdropOnClickHandler}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\nModal.propTypes = { children: PropTypes.node };\n","import React from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Loader.module.css';\n\nconst loaderRoot = document.querySelector('#front-root');\n\nexport default function Loader() {\n  return createPortal(\n    <div className={styles.Spinner}>\n      <div className={styles.Spinner__overlay}>\n        <div className={styles.Spinner__roller}>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div>,\n    loaderRoot,\n  );\n}","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst COUNT_ON_PAGE = 12;\nconst KEY = \"21129448-e17c8b1f4b436f5a4360c1592\";\nconst OPTIONS = `&image_type=photo&orientation=horizontal&per_page=${COUNT_ON_PAGE}`;\n\nconst extract = ({ data: { hits } }) => {\n  return hits.map(\n    ({ id, webformatURL: small, largeImageURL: large, tags: hint }) => {\n      return { id, small, large, hint };\n    },\n  );\n};\n\nconst getTotalPages = ({ data: { totalHits } }) =>\n  Math.ceil(totalHits / COUNT_ON_PAGE);\n\n\nconst fetchImagesDataPixabay = async (search, page) => {\n  try {\n    const url = `/?q=${search}&page=${page}&key=${KEY}${OPTIONS}`;\n    const data = await axios.get(url);\n    return {\n      data: extract(data),\n      totalPages: getTotalPages(data),\n    };\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport default fetchImagesDataPixabay;","const scroll = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nconst scrollTop = () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\nconst scrollBottom = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport { scroll, scrollTop, scrollBottom };","import React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport fetchImagesDataPixabay from './apiPixabay';\nimport { scrollTop, scrollBottom } from './scroll.js';\n\nimport styles from './App.module.css';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setToatalPages] = useState(0);\n  const [url, setUrl] = useState('');\n  const [hint, setHint] = useState('');\n  const [showModal, setModla] = useState(false);\n  const [loading, setLoad] = useState(false);\n  const [empty, setEmpty] = useState(false);\n\n  const toggleModal = useCallback(() => {\n    setModla(showModal => !showModal);\n  }, []);\n\n  const getLargeImage = small => {\n    return images.find(image => image.small === small);\n  };\n\n  const onChangeSearchQuery = searchValue => {\n    if (search !== searchValue) {\n      setImages([]);\n      setSearch(searchValue);\n      setPage(1);\n      setToatalPages(0);\n      setUrl('');\n      setHint('');\n      setModla(false);\n      setLoad(false);\n      setEmpty(false);\n    } else {\n      scrollTop();\n    }\n  };\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    async function fetchImages(search, page) {\n      try {\n        setLoad(true);\n        const { data, totalPages } = await fetchImagesDataPixabay(search, page);\n        setImages(prev => [...prev, ...data]);\n        setEmpty(data.length === 0);\n        setToatalPages(totalPages);\n        scrollBottom();\n      } catch (error) {\n        throw error;\n      } finally {\n        setLoad(false);\n      }\n    }\n\n    fetchImages(search, page);\n  }, [search, page]);\n\n  const onImageClickHandler = event => {\n    event.preventDefault();\n    const targetEl = event.target;\n    if (targetEl.nodeName === 'IMG') {\n      const { large, hint } = getLargeImage(targetEl.src);\n      setUrl(large);\n      setHint(hint);\n      toggleModal();\n    }\n  };\n\n  const left = totalPages - page;\n\n  return (\n    <>\n      <div className={styles.App}>\n        <Searchbar onSubmit={onChangeSearchQuery} />\n        {empty ? (\n          <div className={styles.App__message}>\n            <p>Images are not found for \"{search}\"</p>\n          </div>\n        ) : (\n          <>\n            <ImageGallery imageList={images} onClick={onImageClickHandler} />\n            {page < totalPages && (\n              <div className={styles.App__container}>\n                <Button onClick={() => setPage(page => page + 1)}>\n                  Load more [{left}]\n                </Button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img className={styles.Modal__img} src={url} alt={hint} />\n        </Modal>\n      )}\n      {loading && <Loader />}\n    </>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\nimport App from './App';\nimport styles from './App.module.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={styles.App} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__24qyu\",\"SearchForm\":\"Searchbar_SearchForm__1m9cp\",\"SearchForm-button\":\"Searchbar_SearchForm-button__163Bb\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__o_mLQ\",\"SearchForm-input\":\"Searchbar_SearchForm-input__hwdb-\"};"],"sourceRoot":""}