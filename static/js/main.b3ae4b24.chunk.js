(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Spinner:"Loader_Spinner__r-X5b",Spinner__overlay:"Loader_Spinner__overlay__GMry8",Spinner__roller:"Loader_Spinner__roller__16il9"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__HuAZF","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1H94w"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__iWZkw",Modal:"Modal_Modal__z7EjU"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2QWtd"}},26:function(e,t,a){e.exports={buttonContainer:"Button_buttonContainer__29eCG",button:"Button_button__sU6Pm"}},32:function(e,t,a){},4:function(e,t,a){e.exports={App:"App_App__3MgMo",App__container:"App_App__container__1F_Zz",App__message:"App_App__message__4QUc2",Modal__img:"App_Modal__img__2h396"}},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),o=a.n(c),s=(a(31),a(32),a(6)),i=a.n(s),l=a(16),u=a(10),b=a(3),m=a(7),j=a.n(m),p=a(0);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(p.jsx)("header",{className:j.a.Searchbar,children:Object(p.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(p.jsx)("button",{type:"submit",className:j.a["SearchForm-button"],children:Object(p.jsx)("span",{className:j.a["SearchForm-button-label"],children:"Search"})}),Object(p.jsx)("input",{className:j.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,name:"query",value:c,onChange:function(e){var t=e.currentTarget.value;o(t)},placeholder:"Search images and photos"})]})})}d.defaultProps={onSubmit:function(){}};var _=a(25),h=a.n(_),f=a(13),O=a.n(f);function v(e){var t=e.image,a=t.small,n=t.hint;return Object(p.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:a,alt:n,className:O.a["ImageGalleryItem-image"]})})}function g(e){var t=e.imageList,a=e.onClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("ul",{className:h.a.ImageGallery,onClick:a,ref:function(e){},children:t.map((function(e){return Object(p.jsx)(v,{image:e},e.id)}))})})}v.defaultProps={},g.defaultProps={imageList:[],onClick:function(){}};var x=a(26),S=a.n(x);function y(e){var t=e.onClick,a=e.children;return Object(p.jsx)("button",{className:S.a.Button,onClick:t,type:"button",children:a})}y.defaultProps={onClick:function(){}};var w=a(14),I=a.n(w),N=document.querySelector("#front-root");function k(e){var t=e.onClose,a=e.children;return Object(n.useEffect)((function(){var e=function(e){switch(e.code){case"Escape":t()}};return window.addEventListener("keydown",e),document.body.classList.add("modal-open"),function(){window.removeEventListener("keydown",e),document.body.classList.remove("modal-open")}}),[t]),Object(c.createPortal)(Object(p.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(p.jsx)("div",{className:I.a.Modal,children:a})}),N)}var F=a(11),C=a.n(F),A=document.querySelector("#front-root");function G(){return Object(c.createPortal)(Object(p.jsx)("div",{className:C.a.Spinner,children:Object(p.jsx)("div",{className:C.a.Spinner__overlay,children:Object(p.jsxs)("div",{className:C.a.Spinner__roller,children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})})}),A)}var L=a(15),M=a.n(L);M.a.defaults.baseURL="https://pixabay.com/api";var P="&image_type=photo&orientation=horizontal&per_page=".concat(12),E=function(e){var t=e.data.totalHits;return Math.ceil(t/12)},U=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/?q=".concat(t,"&page=").concat(a,"&key=").concat("21129448-e17c8b1f4b436f5a4360c1592").concat(P),e.next=4,M.a.get(n);case 4:return r=e.sent,e.abrupt("return",{data:(c=r,c.data.hits.map((function(e){return{id:e.id,small:e.webformatURL,large:e.largeImageURL,hint:e.tags}}))),totalPages:E(r)});case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},B=a(4),H=a.n(B);function T(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(b.a)(c,2),s=o[0],m=o[1],j=Object(n.useState)(1),_=Object(b.a)(j,2),h=_[0],f=_[1],O=Object(n.useState)(0),v=Object(b.a)(O,2),x=v[0],S=v[1],w=Object(n.useState)(""),I=Object(b.a)(w,2),N=I[0],F=I[1],C=Object(n.useState)(""),A=Object(b.a)(C,2),L=A[0],M=A[1],P=Object(n.useState)(!1),E=Object(b.a)(P,2),B=E[0],T=E[1],z=Object(n.useState)(!1),Q=Object(b.a)(z,2),R=Q[0],Z=Q[1],D=Object(n.useState)(!1),J=Object(b.a)(D,2),W=J[0],X=J[1],K=Object(n.useCallback)((function(){T((function(e){return!e}))}),[]);Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(t,a){var n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,U(t,a);case 4:n=e.sent,c=n.data,o=n.totalPages,r((function(e){return[].concat(Object(l.a)(e),Object(l.a)(c))})),X(0===c.length),S(o),q(),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:return e.prev=16,Z(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}s&&function(t,a){e.apply(this,arguments)}(s,h)}),[s,h]);var V=x-h;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:H.a.App,children:[Object(p.jsx)(d,{onSubmit:function(e){s!==e?(r([]),m(e),f(1),S(0),F(""),M(""),T(!1),Z(!1),X(!1)):window.scrollTo({top:0,behavior:"smooth"})}}),W?Object(p.jsx)("div",{className:H.a.App__message,children:Object(p.jsxs)("p",{children:['Images are not found for "',s,'"']})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{imageList:a,onClick:function(e){e.preventDefault();var t,n=e.target;if("IMG"===n.nodeName){var r=(t=n.src,a.find((function(e){return e.small===t}))),c=r.large,o=r.hint;F(c),M(o),K()}}}),h<x&&Object(p.jsx)("div",{className:H.a.App__container,children:Object(p.jsxs)(y,{onClick:function(){return f((function(e){return e+1}))},children:["Load more [",V,"]"]})})]})]}),B&&Object(p.jsx)(k,{onClose:K,children:Object(p.jsx)("img",{className:H.a.Modal__img,src:N,alt:L})}),R&&Object(p.jsx)(G,{})]})}o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{className:H.a.App})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__24qyu",SearchForm:"Searchbar_SearchForm__1m9cp","SearchForm-button":"Searchbar_SearchForm-button__163Bb","SearchForm-button-label":"Searchbar_SearchForm-button-label__o_mLQ","SearchForm-input":"Searchbar_SearchForm-input__hwdb-"}}},[[53,1,2]]]);
//# sourceMappingURL=main.b3ae4b24.chunk.js.map